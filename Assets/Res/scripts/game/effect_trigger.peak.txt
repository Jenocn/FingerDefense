import "Game";

enum BrickType {
	BrickRed = 1,
	BrickGreen = 2,
	BrickBlue = 3,
	Bomb = 4,
	Spawn = 5,
}

enum BallType {
	Default = 1,
}

enum EffectType {
	BoomArea = 1, // 圆形范围炸弹
	SmokeRun = 2, // 一溜烟特效
	CollisionFireRed = 3, // 碰撞火花特效(红色)
	CollisionFireGreen = 4, // 碰撞火花特效(绿色)
	CollisionFireBlue = 5, // 碰撞火花特效(蓝色)
	CollisionFireOrange = 6, // 碰撞火花特效(橙色)
}

enum ElementType {
	None = 0,
	Ball, // 球
	Brick, // 砖块
	Racket, // 球拍
	Edge, // 边缘
	Bomb, // 炸弹
	Snare, // 陷阱
}

// 球发生碰撞
function ball_collision(ballID, ballX, ballY, collisionX, collisionY) {
	create_effect(EffectType.SmokeRun, collisionX, collisionY, 0);
}

// 砖块被击时
function brick_hit(brickID, x, y, attackID, attackElementType) {
}

// 砖块死亡时
function brick_die(brickID, x, y, attackID, attackElementType) {
	if (brickID == BrickType.BrickRed) {
		create_effect(EffectType.CollisionFireRed, x, y, 0.08);
	} else if (brickID == BrickType.BrickGreen) {
		create_effect(EffectType.CollisionFireGreen, x, y, 0.08);
	} else if (brickID == BrickType.BrickBlue) {
		create_effect(EffectType.CollisionFireBlue, x, y, 0.08);
	} else if (brickID == BrickType.Bomb) {
		create_effect(EffectType.BoomArea, x, y, 0.1);
		create_effect(EffectType.CollisionFireOrange, x, y, 0.08);
	} else if (brickID == BrickType.Spawn) {
		create_ball(BallType.Default, x, y, 1, 1, 0.1);
		create_ball(BallType.Default, x, y, -1, 1, 0.1);
	}
}